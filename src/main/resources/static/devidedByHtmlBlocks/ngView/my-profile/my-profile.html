<!--<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">-->
<div class="container col-sm-8" id="profileCard">
    <div class="row ui-container container ">
        <div class="col-sm-3">
            <div class="profile-image" align="center">
                <h4 class=""><strong>{{globals.currentUser.username}}</strong></h4>
                <img src="https://bootdey.com/img/Content/avatar/avatar7.png" alt="">
                <a class="btn btn-link"
                        type="button"
                        data-toggle="modal"
                        href="#change-password-modal"> Change Password
                </a>
                <a class="btn btn-link"
                   type="button"
                   data-toggle="modal"
                   href="#upload-photo-modal"> Update Profile Picture
                </a>


            </div>
        </div>
        <div class="col-sm-6">

            <table class="table"  >
                <tbody>
                    <tr>
                        <th>Email:</th>
                        <td>{{vm.user.email}}</td>
                    </tr>
                    <tr>
                        <th>Address:</th>
                        <td>{{vm.user.address}}</td>
                    </tr>
                    <tr>
                        <th>Interests:</th>
                        <td><p ng-repeat = "interest in vm.interests">{{interest.user_interest_key.user_interest}}, <i>{{interest.level}}</i> <br></p>
                            <!--<p>kitesurfing, <i>intermediate</i></p>-->
                        </td>



                    </tr>


                </tbody>
            </table>
            <div>
                <button class="btn btn-primary btn-round">Edit</button>

            </div>

        </div>
    </div>
</div>
<div class="container-fluid col-sm-6 ui">
    <form class="container" name="registrationForm" ng-submit="registrationForm.$valid && vm.register()">

        <div class="imgcontainer">
            <img src="images/user.svg" alt="Avatar" class="" height="60" width="65">
        </div>
        <div class="form-group" >
            <label for="email">Email</label>
            <input type="email" name="email" id="email" class="form-control" ng-model="vm.user.email" name="registrationForm" required />
            <p class="validation" ng-show = "registrationForm.email.$pristine && registrationForm.email.$touched" >Email is required</p>
            <p class="validation" ng-show = "registrationForm.email.$dirty && registrationForm.email.$invalid && registrationForm.email.$touched"> You did not enter your email correctly</p>
        </div>

        <div class="form-group" >
            <label for="username">Username</label>
            <input type="text" name="username" id="username" class="form-control" ng-minlength="4" ng-maxlength="10" ng-model="vm.user.username" ng-disabled="true" required />
            <p class="validation" ng-show = "registrationForm.username.$pristine && registrationForm.username.$touched" >Username is required</p>
            <p class="validation" ng-show = "registrationForm.username.$dirty && registrationForm.username.$invalid && registrationForm.username.$touched">Username must be between 4 and 10 characters long</p>
        </div>
        <div class="form-group" >
            <label for="password">Password</label>
            <input type="password" name="password" id="password" class="form-control" ng-minlength="4" ng-maxlength="10" ng-model="vm.user.password" required />
            <p class="validation" ng-show = "registrationForm.password.$pristine && registrationForm.password.$touched " >Password is required</p>
            <p class="validation" ng-show = "registrationForm.password.$dirty && registrationForm.password.$invalid && registrationForm.password.$touched">Password must be between 4 and 10 characters long</p>
        </div>
        <div class="form-group" >
            <label for="password">Repeat Password</label>
            <input type="password" ng-model="vm.repeat_password" ng-change="vm.confirmPassword(registrationForm)" name="repeat_password" id="repeat-password" class="form-control" ng-minlength="4" ng-maxlength="10"   required />
            <p class="validation" ng-show = "registrationForm.repeat_password.$pristine && registrationForm.repeat_password.$touched " >Password repeatance is required</p>
            <p class="validation" ng-show = "registrationForm.repeat_password.$dirty && registrationForm.repeat_password.$invalid && registrationForm.repeat_password.$touched ">Password confirmation does not match </p>
        </div>

        <!--<div class="form-group" ng-class="{ 'has-error': form.password.$dirty && form.password.$error.required }">-->
        <!--<label for="password">Repeat password</label>-->
        <!--<input type="password" name="password" id="password" class="form-control" ng-model="vm.user.password" required />-->
        <!--<span ng-show="form.password.$dirty && form.password.$error.required" class="help-block">Password is required</span>-->
        <!--</div>-->


        <hr >


        <div id="reg_moreInfo">

            <div class="form-check">
                <label class="form-check-label">
                    <input type="checkbox" class="form-check-input" ng-model="vm.kitesurfing"
                           name="interest" ng-true-value="'kitesurfing'" ng-click="vm.pushUserInterest('kitesurfing')"  ><span>kitesurfing</span>
                </label>
                <span class="ml-sm-5" ng-show="vm.kitesurfing">
                        <label>level:</label>
                        <select ng-model="vm.user.kitesurfing_level" name="kitesurfing_level">
                            <option value="beginner">Beginner</option>
                            <option value="itermediate">Intermediate</option>
                            <option value="expert">Expert</option>
                        </select>
                    </span>
            </div>
            <br>
            <div class="form-check ">
                <label class="form-check-label">
                    <input type="checkbox" class="form-check-input" ng-model="vm.scubadiving"
                           name="interest" ng-true-value="'scubadiving'" ng-click="vm.pushUserInterest('scubadiving')"><span>scuba-diving</span>
                </label>
                <span class="ml-sm-5" ng-show="vm.user.interest">
                        <label>level:</label>
                        <select>
                            <option value="beginner">Beginner</option>
                            <option value="itermediate">Intermediate</option>
                            <option value="expert">Expert</option>
                        </select>
                    </span>
            </div>

            <label class="col-sm-3" >Date of birth:</label>
            <input type="date" >


        </div>
        <br>
        <div class="form-actions">
            <button type="submit">Register</button>
            <img ng-if="vm.dataLoading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />

        </div>
        <div style="text-align: right" >
            <br>
            <a href="#!/login" class="btn btn-link">Cancel</a>
        </div>

    </form>
</div>


<!--        modals      -->
<div class="modal fade" id="change-password-modal">
    <div class="modal-dialog">
        <div class="modal-content">

            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Change Password</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>

            <!-- Modal body -->
            <div class="modal-body">
                Modal body..
            </div>

            <!-- Modal footer -->
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
            </div>

        </div>
    </div>
</div>
</div>

<div class="modal fade" id="upload-photo-modal">
    <div class="modal-dialog">
        <div class="modal-content">

            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Update Profile Picture</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>

            <!-- Modal body -->
            <div class="modal-body">
                <div ng-controller="UploadController">
                    <form ng-submit = "uploadImage()">
                        <input type="file" ng-file-select="onFileSelect($files)" ng-model="imageSrc" required>
                        <!--  <input type="file" ng-file-select="onFileSelect($files)" multiple> -->
                        <input type="submit">
                    </form>

                    <img ng-src="{{imageSrc}}" height="200" width="200"/>

                </div>
                <!--<img ng-src="{{imageSrc}}" />-->
            </div>

            <!-- Modal footer -->
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
            </div>

        </div>
    </div>
</div>
</div>
